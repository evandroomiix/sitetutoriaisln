<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tutoriais LN</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script>
        // Configuração do Tailwind para fonte e cores
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    },
                    colors: {
                        slate: {
                            850: '#1e293b',
                            950: '#020617',
                        }
                    }
                },
            },
        }
    </script>
    <style>
        /* Estilos globais */
        body {
            background-color: #0f172a; /* Slate 900 */
            color: #f8fafc; /* Slate 50 */
            font-family: 'Inter', sans-serif;
        }
        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #1e293b;
        }
        ::-webkit-scrollbar-thumb {
            background: #475569;
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #64748b;
        }
        /* Animação fadeIn */
        .animate-in {
            animation: fadeIn 0.5s ease-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        /* Estilo para a área de detalhes do tutorial (inicialmente escondida) */
        #tutorial-detail {
            display: none;
        }
        /* Estilo para o botão de voltar */
        .back-button {
            display: none; /* Inicialmente escondido */
        }
    </style>
</head>
<body class="min-h-screen bg-slate-950 font-sans text-slate-50 selection:bg-blue-500/30 flex flex-col">

    <!-- Navbar -->
    <header class="sticky top-0 z-10 bg-slate-900 border-b border-slate-800 px-4 py-3">
        <div class="flex items-center justify-between">
            <div class="flex items-center gap-4">
                <!-- Botão para abrir o Sidebar (Mobile) -->
                <button id="sidebar-toggle" class="md:hidden text-slate-400 hover:text-white">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
                    </svg>
                </button>
                <!-- Logo ou Título -->
                <h1 class="text-xl font-bold text-white">Tutoriais LN</h1>
            </div>

            <!-- Barra de Busca -->
            <div class="flex-1 max-w-md mx-4">
                <div class="relative">
                    <input
                        type="text"
                        id="search-input"
                        placeholder="Buscar tutoriais..."
                        class="w-full bg-slate-800 border border-slate-700 rounded-lg pl-10 pr-4 py-2 text-slate-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                    />
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 absolute left-3 top-2.5 text-slate-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
                    </svg>
                </div>
            </div>

            <div class="hidden md:block">
                <!-- Espaço para outros itens da navbar, se necessário -->
            </div>
        </div>
    </header>

    <div class="flex flex-1">
        <!-- Sidebar -->
        <aside id="sidebar" class="fixed md:static inset-y-0 left-0 z-20 w-64 bg-slate-900 border-r border-slate-800 transform -translate-x-full md:translate-x-0 transition-transform duration-300 ease-in-out">
            <div class="p-4">
                <h2 class="text-lg font-semibold text-white mb-4">Filtros</h2>

                <div class="mb-6">
                    <h3 class="text-sm font-medium text-slate-400 mb-2">Tipo de Conteúdo</h3>
                    <div class="space-y-2">
                        <button data-type="ALL" class="filter-type-btn w-full text-left px-3 py-2 rounded-lg hover:bg-slate-800 text-slate-300 hover:text-white transition-colors">Todos</button>
                        <button data-type="ARTICLE" class="filter-type-btn w-full text-left px-3 py-2 rounded-lg hover:bg-slate-800 text-slate-300 hover:text-white transition-colors">Artigos</button>
                        <button data-type="VIDEO" class="filter-type-btn w-full text-left px-3 py-2 rounded-lg hover:bg-slate-800 text-slate-300 hover:text-white transition-colors">Vídeos</button>
                        <button data-type="TUTORIAL" class="filter-type-btn w-full text-left px-3 py-2 rounded-lg hover:bg-slate-800 text-slate-300 hover:text-white transition-colors">Tutoriais</button>
                    </div>
                </div>

                <div>
                    <h3 class="text-sm font-medium text-slate-400 mb-2">Categorias</h3>
                    <div class="space-y-2" id="category-buttons">
                        <!-- Botões de categoria serão gerados aqui pelo JS -->
                    </div>
                </div>
            </div>
        </aside>

        <!-- Overlay para fechar sidebar em mobile -->
        <div id="sidebar-overlay" class="fixed inset-0 bg-black bg-opacity-50 z-10 hidden md:hidden" style="display: none;"></div>

        <!-- Main Content -->
        <main class="flex-1 flex flex-col px-4 py-8 md:px-8 max-w-full overflow-x-hidden">
            <div class="flex-1">
                <!-- Botão Voltar (para quando estiver vendo detalhes) -->
                <button id="back-button" class="back-button mb-4 px-4 py-2 bg-slate-800 hover:bg-slate-700 text-white rounded-lg transition-colors">
                    &larr; Voltar
                </button>

                <!-- Área de Listagem de Tutoriais -->
                <div id="tutorial-list">
                    <div class="animate-in fade-in duration-500 space-y-6">
                        <div class="flex flex-col md:flex-row md:items-center justify-between gap-4 pb-2 border-b border-slate-800/50">
                            <div>
                                <h1 id="page-title" class="text-3xl font-bold tracking-tight text-white mb-1">Todos os Conteúdos</h1>
                                <p id="page-subtitle" class="text-slate-400 text-sm flex items-center gap-2">
                                    Explore nossos tutoriais e recursos
                                </p>
                            </div>
                            <div id="result-count" class="inline-flex items-center px-3 py-1 rounded-full bg-slate-900 border border-slate-800 text-xs font-medium text-slate-400">
                                <!-- Número de resultados será inserido aqui -->
                            </div>
                        </div>

                        <div id="tutorials-grid" class="grid gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4">
                            <!-- Cards de tutoriais serão gerados aqui pelo JS -->
                        </div>

                        <!-- Mensagem quando não há resultados -->
                        <div id="no-results" class="hidden flex flex-col items-center justify-center py-20 border-2 border-dashed border-slate-800 rounded-2xl bg-slate-900/30">
                            <div class="h-16 w-16 mb-4 rounded-full bg-slate-800/50 flex items-center justify-center">
                                <svg class="h-8 w-8 text-slate-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
                                </svg>
                            </div>
                            <h3 class="text-xl font-semibold text-white mb-2">Nenhum resultado encontrado</h3>
                            <p class="text-slate-500 text-center max-w-md mb-6">
                                Não encontramos conteúdos com seus critérios. Tente limpar os filtros.
                            </p>
                            <button id="clear-filters-btn" class="px-4 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded-lg text-sm font-medium transition-colors shadow-lg shadow-blue-900/20">
                                Limpar todos os filtros
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Área de Detalhes do Tutorial -->
                <div id="tutorial-detail">
                    <!-- Conteúdo detalhado será inserido aqui pelo JS -->
                </div>
            </div>

            <!-- Footer -->
            <footer class="mt-12 border-t border-slate-800/50 pt-6 pb-2">
                <div class="flex flex-col md:flex-row items-center justify-between gap-4 text-sm text-slate-500">
                    <p>&copy; 2025 Tutoriais LN. Todos os direitos reservados.</p>
                    <div class="flex items-center gap-4">
                        <a href="https://github.com/evandroomiix/sitetutoriaisln" target="_blank" rel="noopener noreferrer" class="hover:text-white transition-colors">
                            Repositório GitHub
                        </a>
                        <span class="h-1 w-1 rounded-full bg-slate-700"></span>
                        <a href="#" class="hover:text-white transition-colors">Política de Privacidade</a>
                    </div>
                </div>
            </footer>
        </main>
    </div>

    <script>
        // Dados dos Tutoriais (exemplo - substitua pelos seus dados reais)
        const TUTORIAIS = [
            {
                id: '1',
                title: 'Introdução ao Sistema LN',
                excerpt: 'Aprenda os conceitos básicos do sistema LN e suas principais funcionalidades.',
                type: 'TUTORIAL',
                tags: ['iniciante', 'sistema', 'conceitos'],
                content: `<p>Este é o conteúdo detalhado do tutorial sobre a Introdução ao Sistema LN.</p><p>Ele aborda os seguintes tópicos:</p><ul><li>O que é o Sistema LN</li><li>Principais módulos</li><li>Benefícios do uso</li></ul>`
            },
            {
                id: '2',
                title: 'Como Criar um Novo Pedido',
                excerpt: 'Passo a passo para criar um novo pedido no módulo de vendas.',
                type: 'TUTORIAL',
                tags: ['vendas', 'pedidos', 'módulo'],
                content: `<p>Aqui está o guia detalhado para criar um novo pedido.</p><p>Siga os passos:</p><ol><li>Acesse o módulo de Vendas</li><li>Clique em "Novo Pedido"</li><li>Preencha as informações necessárias</li><li>Confirme o pedido</li></ol>`
            },
            {
                id: '3',
                title: 'Relatório de Estoque',
                excerpt: 'Como gerar e interpretar o relatório de estoque.',
                type: 'ARTICLE',
                tags: ['estoque', 'relatórios', 'almoxarifado'],
                content: `<p>Este artigo explica como gerar o relatório de estoque.</p><p>O relatório mostra:</p><ul><li>Quantidade disponível de cada item</li><li>Localização no almoxarifado</li><li>Data da última atualização</li></ul>`
            },
            {
                id: '4',
                title: 'Configurações de Usuário',
                excerpt: 'Gerencie as permissões e configurações do seu usuário no sistema.',
                type: 'TUTORIAL',
                tags: ['usuário', 'segurança', 'administração'],
                content: `<p>Este tutorial ensina a configurar seu usuário.</p><p>É possível:</p><ul><li>Alterar senha</li><li>Definir permissões</li><li>Gerenciar perfis</li></ul>`
            },
            {
                id: '5',
                title: 'Vídeo: Visão Geral do Módulo Financeiro',
                excerpt: 'Vídeo demonstrativo sobre as funcionalidades do módulo financeiro.',
                type: 'VIDEO',
                tags: ['vídeo', 'financeiro', 'demonstração'],
                content: `<p>Assista ao vídeo para uma visão geral do Módulo Financeiro.</p><p>[Aqui você pode embutir um player de vídeo ou linkar para o vídeo real]</p><p>Este vídeo cobre:</p><ul><li>Lançamentos financeiros</li><li>Relatórios de fluxo de caixa</li><li>Integração com contabilidade</li></ul>`
            }
        ];

        // Estados
        let estadoAtual = {
            tipo: 'ALL', // 'ALL', 'ARTICLE', 'VIDEO', 'TUTORIAL'
            categoria: 'all', // 'all' ou uma tag específica
            busca: '' // termo de busca
        };

        // Elementos DOM
        const $sidebar = document.getElementById('sidebar');
        const $sidebarToggle = document.getElementById('sidebar-toggle');
        const $sidebarOverlay = document.getElementById('sidebar-overlay');
        const $tutorialsGrid = document.getElementById('tutorials-grid');
        const $noResults = document.getElementById('no-results');
        const $resultCount = document.getElementById('result-count');
        const $pageTitle = document.getElementById('page-title');
        const $pageSubtitle = document.getElementById('page-subtitle');
        const $searchInput = document.getElementById('search-input');
        const $categoryButtonsContainer = document.getElementById('category-buttons');
        const $clearFiltersBtn = document.getElementById('clear-filters-btn');
        const $tutorialList = document.getElementById('tutorial-list');
        const $tutorialDetail = document.getElementById('tutorial-detail');
        const $backButton = document.getElementById('back-button');

        // Função para obter todas as categorias únicas
        function obterCategorias() {
            const todasCategorias = new Set(['all']); // Começa com 'all'
            TUTORIAIS.forEach(t => {
                t.tags.forEach(tag => todasCategorias.add(tag));
            });
            return Array.from(todasCategorias);
        }

        // Função para renderizar botões de categoria
        function renderizarCategorias() {
            const categorias = obterCategorias();
            $categoryButtonsContainer.innerHTML = ''; // Limpa antes de renderizar

            categorias.forEach(cat => {
                const btn = document.createElement('button');
                btn.className = `filter-category-btn w-full text-left px-3 py-2 rounded-lg hover:bg-slate-800 transition-colors ${
                    estadoAtual.categoria === cat ? 'bg-slate-800 text-white' : 'text-slate-300 hover:text-white'
                }`;
                btn.textContent = cat === 'all' ? 'Todas' : cat.charAt(0).toUpperCase() + cat.slice(1);
                btn.dataset.category = cat;
                $categoryButtonsContainer.appendChild(btn);
            });
        }

        // Função para filtrar tutoriais com base no estado
        function filtrarTutoriais() {
            return TUTORIAIS.filter(t => {
                const matchesType = estadoAtual.tipo === 'ALL' || t.type === estadoAtual.tipo;
                const matchesCategory = estadoAtual.categoria === 'all' || t.tags.includes(estadoAtual.categoria);
                const searchLower = estadoAtual.busca.toLowerCase();
                const matchesSearch = !estadoAtual.busca ||
                    t.title.toLowerCase().includes(searchLower) ||
                    t.excerpt.toLowerCase().includes(searchLower) ||
                    t.tags.some(tag => tag.toLowerCase().includes(searchLower));

                return matchesType && matchesCategory && matchesSearch;
            });
        }

        // Função para renderizar a lista de tutoriais
        function renderizarLista(tutoriaisFiltrados) {
            $tutorialsGrid.innerHTML = ''; // Limpa antes de renderizar

            if (tutoriaisFiltrados.length === 0) {
                $noResults.classList.remove('hidden');
                $tutorialsGrid.classList.add('hidden');
            } else {
                $noResults.classList.add('hidden');
                $tutorialsGrid.classList.remove('hidden');

                tutoriaisFiltrados.forEach(tutorial => {
                    const card = document.createElement('div');
                    card.className = 'bg-slate-800 border border-slate-700 rounded-xl overflow-hidden shadow-lg hover:shadow-xl hover:shadow-blue-900/10 transition-shadow cursor-pointer tutorial-card';
                    card.dataset.id = tutorial.id;
                    card.innerHTML = `
                        <div class="p-5">
                            <div class="flex justify-between items-start">
                                <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${
                                    tutorial.type === 'ARTICLE' ? 'bg-green-900/30 text-green-400' :
                                    tutorial.type === 'VIDEO' ? 'bg-purple-900/30 text-purple-400' :
                                    'bg-blue-900/30 text-blue-400'
                                } border border-slate-700">
                                    ${tutorial.type}
                                </span>
                            </div>
                            <h3 class="mt-3 text-lg font-semibold text-white line-clamp-2">${tutorial.title}</h3>
                            <p class="mt-2 text-slate-400 text-sm line-clamp-3">${tutorial.excerpt}</p>
                            <div class="mt-4 flex flex-wrap gap-1">
                                ${tutorial.tags.map(tag => `<span class="inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-slate-700 text-slate-300">${tag}</span>`).join('')}
                            </div>
                        </div>
                    `;
                    $tutorialsGrid.appendChild(card);
                });
            }

            // Atualiza contador de resultados
            $resultCount.textContent = `${tutoriaisFiltrados.length} ${tutoriaisFiltrados.length === 1 ? 'Resultado' : 'Resultados'}`;

            // Atualiza título e subtítulo da página
            let titulo = estadoAtual.categoria === 'all' ? 'Todos os Conteúdos' : `Categoria: ${estadoAtual.categoria.charAt(0).toUpperCase() + estadoAtual.categoria.slice(1)}`;
            let subt = estadoAtual.busca ? `Mostrando resultados para "${estadoAtual.busca}"` : 'Explore nossos tutoriais e recursos';
            if (estadoAtual.tipo !== 'ALL') {
                subt += ` - Tipo: ${estadoAtual.tipo}`;
            }

            $pageTitle.textContent = titulo;
            $pageSubtitle.innerHTML = subt; // Pode conter HTML se necessário
        }

        // Função para renderizar o detalhe de um tutorial
        function renderizarDetalhe(tutorial) {
            $tutorialList.style.display = 'none';
            $tutorialDetail.style.display = 'block';
            $backButton.classList.remove('hidden'); // Mostra o botão voltar

            $tutorialDetail.innerHTML = `
                <div class="animate-in fade-in duration-500">
                    <div class="mb-6">
                        <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${
                            tutorial.type === 'ARTICLE' ? 'bg-green-900/30 text-green-400' :
                            tutorial.type === 'VIDEO' ? 'bg-purple-900/30 text-purple-400' :
                            'bg-blue-900/30 text-blue-400'
                        } border border-slate-700">
                            ${tutorial.type}
                        </span>
                        <h1 class="mt-2 text-3xl font-bold text-white">${tutorial.title}</h1>
                        <p class="mt-2 text-slate-400">${tutorial.excerpt}</p>
                    </div>
                    <div class="prose prose-invert max-w-none">
                        ${tutorial.content}
                    </div>
                </div>
            `;
        }

        // Função para voltar à lista
        function voltarParaLista() {
            $tutorialList.style.display = 'block';
            $tutorialDetail.style.display = 'none';
            $backButton.classList.add('hidden'); // Esconde o botão voltar

            // Rola para o topo
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // Função para atualizar a UI com base no estado
        function atualizarUI() {
            renderizarCategorias();
            const tutoriaisFiltrados = filtrarTutoriais();
            renderizarLista(tutoriaisFiltrados);

            // Atualiza classes ativas nos botões de filtro
            document.querySelectorAll('.filter-type-btn').forEach(btn => {
                btn.classList.toggle('bg-slate-800', btn.dataset.type === estadoAtual.tipo);
                btn.classList.toggle('text-white', btn.dataset.type === estadoAtual.tipo);
            });

            document.querySelectorAll('.filter-category-btn').forEach(btn => {
                btn.classList.toggle('bg-slate-800', btn.dataset.category === estadoAtual.categoria);
                btn.classList.toggle('text-white', btn.dataset.category === estadoAtual.categoria);
            });
        }

        // Event Listeners
        $sidebarToggle.addEventListener('click', () => {
            $sidebar.classList.toggle('-translate-x-full');
            $sidebarOverlay.classList.toggle('hidden');
        });

        $sidebarOverlay.addEventListener('click', () => {
            $sidebar.classList.add('-translate-x-full');
            $sidebarOverlay.classList.add('hidden');
        });

        document.addEventListener('click', (e) => {
            if ($sidebar.classList.contains('translate-x-0') && !$sidebar.contains(e.target) && e.target !== $sidebarToggle) {
                 // Fecha sidebar se clicar fora dele (mas não fecha ao clicar no toggle)
                 if (window.innerWidth < 768) { // Apenas em dispositivos móveis
                    $sidebar.classList.add('-translate-x-full');
                    $sidebarOverlay.classList.add('hidden');
                 }
            }
        });

        // Filtros de Tipo
        document.querySelectorAll('.filter-type-btn').forEach(btn => {
            btn.addEventListener('click', (e) => {
                estadoAtual.tipo = e.target.dataset.type;
                estadoAtual.categoria = 'all'; // Limpa categoria ao trocar tipo?
                estadoAtual.busca = ''; // Limpa busca ao trocar tipo?
                $searchInput.value = '';
                atualizarUI();
                window.scrollTo({ top: 0, behavior: 'smooth' });
            });
        });

        // Filtros de Categoria (delegação de evento)
        $categoryButtonsContainer.addEventListener('click', (e) => {
            if (e.target.classList.contains('filter-category-btn')) {
                estadoAtual.categoria = e.target.dataset.category;
                estadoAtual.busca = ''; // Limpa busca ao trocar categoria?
                $searchInput.value = '';
                atualizarUI();
                window.scrollTo({ top: 0, behavior: 'smooth' });
            }
        });

        // Busca
        $searchInput.addEventListener('input', (e) => {
            estadoAtual.busca = e.target.value.trim();
            // Limpa categoria e tipo ao digitar na busca? (Comportamento opcional)
            // estadoAtual.categoria = 'all';
            // estadoAtual.tipo = 'ALL';
            atualizarUI();
            if (window.location.hash !== '') {
                history.pushState(null, null, ' ');
            }
        });

        // Limpar Filtros
        $clearFiltersBtn.addEventListener('click', () => {
            estadoAtual = { tipo: 'ALL', categoria: 'all', busca: '' };
            $searchInput.value = '';
            atualizarUI();
        });

        // Clique em Card de Tutorial
        $tutorialsGrid.addEventListener('click', (e) => {
            const card = e.target.closest('.tutorial-card');
            if (card) {
                const id = card.dataset.id;
                const tutorial = TUTORIAIS.find(t => t.id === id);
                if (tutorial) {
                    renderizarDetalhe(tutorial);
                    // Atualiza URL para /tutorial/id (simulado com hash)
                    history.pushState(null, null, `#/tutorial/${id}`);
                }
            }
        });

        // Botão Voltar
        $backButton.addEventListener('click', () => {
            voltarParaLista();
            history.pushState(null, null, ' '); // Limpa hash
        });

        // Simular navegação Back/Forward (hashchange)
        window.addEventListener('popstate', (e) => {
            if (location.hash.startsWith('#/tutorial/')) {
                // Poderia tentar restaurar o estado do tutorial detalhado aqui
                // Para simplificação, voltamos para a lista se o hash for de detalhe e não estivermos na lista
                if ($tutorialDetail.style.display !== 'none') {
                     voltarParaLista();
                }
            } else {
                // Se não for hash de detalhe, garantir que estamos na lista
                 if ($tutorialDetail.style.display !== 'none') {
                     voltarParaLista();
                 }
            }
        });

        // Inicializar a UI
        atualizarUI();

    </script>
</body>
</html>
